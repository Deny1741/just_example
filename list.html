<!doctype html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script
            src="https://code.jquery.com/jquery-3.4.1.js"
            integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
            crossorigin="anonymous"></script>
    <script
            src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
            integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
            crossorigin="anonymous"></script>
    <title>Ментальная арифметика</title>
</head>

<style>
    #menar {
        display: none;
        margin-top: 5px;
        margin-left: auto;
        margin-right: auto;
    }

    :root {
        --green: #4CAF50;
        --blue: #008CBA;
        --red: #ff3366;
    }

    * {
        margin: 0;
        padding: 0;
    }

    body {
        font-family: Helvetica, serif;
        max-width: 1200px;
        margin: 0 auto;
        padding-right: 5px;
        padding-left: 5px;
        line-height: 1.5;
        font-size: 16px;
    }

    ul {
        list-style-type: none;
    }

    @media screen and (max-width: 680px) {
        .settings-item, .button, .button-group div{
            width: 100% !important;
        }
    }

    @media screen and (max-width: 500px) {
        .settings-item, .button, .button-group div {
            width: 100% !important;
        }
        .mobile-count {
            width: calc(33% - 10px) !important;

        }

        .button-group {
            margin-bottom: 10px !important;
        }

        #bomb {
            margin-bottom: 20px !important;
        }

        .wrap-sky, .wrap-earth {
            width: 280px !important;
            padding-right: 30px !important;

        }

        .flexible {
            display: none !important;
        }

    }

    #numbers {
        min-height: 200px;
        min-width: 300px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: bold;
        font-size: 32px;
        text-align: center;
    }

    #soroban-trainer {
        display: none;
        margin-top: 10px;
        margin-bottom: 40px;
    }

    .wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }

    /* Настройки */

    .settings {
        width: 100%;
    }

    .settings ul  {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        list-style-type: none;
    }

    .settings-item {
        width: calc(16% - 20px);
        position: relative;
        text-align: center;
        margin: 5px;
        font-weight: bold;
        font-size: 1.2rem;
    }

    .settings-item img {
        margin-top: 5px;
    }

    .settings label {
        display: block;
    }

    .settings label img {
        height: 25px;
    }

    .settings-item input, select {
        display: block;
        border: 2px solid cornflowerblue;
        text-align: center;
        border-radius: 3px;
        font-size: 1.2rem;
        font-weight: bold;
        width: 100%;
        text-align-last:center;
    }

    option {
        text-align-last:center;
    }

    option {
        text-align: center;
    }

    /* число */

    .number {
        font-size: 48px;
        font-weight: bold;
        text-align: center;
        width: 100%;
        padding: 10px;
        border: 1px solid black
    }

    .answer {
        text-align: center;
        border-radius: 3px;
        border: 2px solid cornflowerblue;
        cursor: pointer;
        font-size: 2rem;
        padding-top: 10px;
        padding-bottom: 10px;
        width: calc(100% - 12px);
        margin-bottom: 15px;
    }

    .button-group {
        position: relative;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        width: 100%;
        margin-bottom: 10px;
    }

    #bomb {
        transition-property: all;
        transition-duration: 1s;
    }

    #bomb:hover {
        -webkit-transform:scale(1.2); /*Webkit: Scale up image to 1.2x original size*/
        -moz-transform:scale(1.2); /*Mozilla scale version*/
        -o-transform:scale(1.2); /*Opera scale version*/
        transition-delay: 0s;
    }

    button {
        border: none;
    }

    .button {
        color: white;
        text-align: center;
        border: none;
        border-radius: 3px;
        cursor: pointer;
        font-size: 1.5rem;
        font-weight: bold;
        padding-top: 10px;
        padding-bottom: 10px;
        margin: 5px;
        text-transform: uppercase;
        width: calc(50% - 15px);
    }

    .green {
        background-color: var(--green);
    }

    .blue {
        background-color: var(--blue);
    }

    .green-color {
        color: var(--green);
    }

    .blue-color {
        color: var(--blue);
    }

    /* Переключатель */

    .switch-wrap {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
    }
    .switch {
        position: relative;
        display: inline-block;
        width: 60px;
        height: 30px;
        margin-top: 15px;
    }

    /* Hide default HTML checkbox */
    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

    /* The slider */
    .slider {
        position: absolute;
        cursor: pointer;
        top: 0px;
        left: 0;
        right: 0;
        bottom: 0px;
        background-color: #ccc;
        -webkit-transition: .4s;
        transition: .4s;
    }

    .slider:before {
        position: absolute;
        content: "";
        height: 22px;
        width: 22px;
        left: 4px;
        bottom: 4px;
        background-color: white;
        -webkit-transition: .4s;
        transition: .4s;
    }

    input:checked + .slider {
        background-color: #2196F3;
    }

    input:focus + .slider {
        box-shadow: 0 0 1px #2196F3;
    }

    input:checked + .slider:before {
        -webkit-transform: translateX(26px);
        -ms-transform: translateX(26px);
        transform: translateX(26px);
    }

    /* Rounded sliders */
    .slider.round {
        border-radius: 34px;
    }

    .slider.round:before {
        border-radius: 50%;
    }

    /* Соробан */

    .wrap-sky {
        position: relative;
        display: flex;
        flex-direction: row-reverse;
        justify-content: space-evenly;
        width: 800px;
        height: 100px;
        border: 3px solid black;
        margin: 0 auto;
    }

    .wrap-earth {
        position: relative;
        display: flex;
        flex-direction: row-reverse;
        justify-content: space-evenly;
        width: 800px;
        height: 220px;
        border: 3px solid black;
        margin: 0 auto;
    }

    .column {
        border-right: 2px solid black;
        width: 35px;
    }

    .box {
        position: absolute;
        background-image: url("img/bead_inactive.png");
        background-size: 100%;
        background-position: center center; /* Положение фона */
        background-repeat: no-repeat; /* Отменяем повторение фона */
        bottom: 0;
        margin: 0;
        width: 70px;
        height: 40px;
    }

    .sky {
        top: 20px;
    }

</style>
<body>
<div class="wrap">
    <div class="settings">
        <ul>
            <li class="settings-item">
                <label for="select_level">Ступень: </label>
                <select id="select_level">
                    <option value="0">1</option>
                    <option value="1">2</option>
                    <option value="2">3</option>
                    <option value="3">4</option>
                    <option value="4">5</option>
                </select>
            </li>

            <li class="settings-item">
                <label for="select_page">Страница: </label>
                <select id="select_page"></select>
            </li>

            <li class="settings-item">
                <label for="select_string">Строчка: </label>
                <select id="select_string"></select>
            </li>

            <li class="settings-item mobile-count">
                <label for="select_page" class="blue-color">&#35;</label>
                <div id="current"></div>
            </li>

            <li class="settings-item mobile-count">
                <label for="select_page" class="green-color">&#10004;</label>
                <div id="completed"></div>
            </li>


            <li class="settings-item mobile-count">
                <img id="menar" src="img/menar.jpg" width="100" alt="">
                <div class="switch-wrap" itemtype="switcher">
                    <label class="switch" itemtype="switcher">
                        <input type="checkbox">
                        <span class="slider round" id="switcher"></span>
                    </label>
                </div>
            </li>
        </ul>
    </div>
    <div id="numbers">Выберите&nbsp;сложность и&nbsp;нажмите "Новый&nbsp;пример"</div>

    <!-- Соробан -->
    <div id="soroban-trainer">
        <div id="soroban-5" class="wrap-sky"></div>
        <div id="soroban" class="wrap-earth"></div>
    </div>

    <input id="input-answer" type="number" class="answer" placeholder="введите ответ">

    <div class="button-group">
        <button id="answer" class="button green">Ответить</button>
        <button id="start" class="button blue" >Новый пример</button>
    </div>
    <button id="bomb"><img src="img/bomb.png" height="48" alt=""></button>

</div>
</body>

<script>
    let index = 0;
    let right_counter = 0;
    let current_counter = 0;
    let toggle_soroban = false;
    let page_amount = 0;
    let string_amount = 0;
    let arr_nums = [];

    let level_1 = [
            [
                [1, 1], [2, 2], [3, 3], [4, 4], [5, 5], [6, 6], [7, 7], [8, 8], [9, 9], [10, 10], [14, 14], [35, 35], [84, 84], [54, 54], [72, 72], [82, 82], [35, 35], [95, 95], [25, 25], [42, 642], [27, 27], [41, 41], [66, 66], [33, 33], [15, 15], [75, 75], [92, 92], [831, 831], [245, 245], [129, 129], [849, 849], [621, 621], [317, 317], [512, 512], [351, 351], [645, 645], [384, 384], [483, 483], [129, 129], [348, 348], [517, 517], [299, 299], [123, 123], [975, 975], [761, 761], [972, 972], [483, 483], [391, 391], [972, 972], [715, 715]
            ],
            [
                [1, 1, -1, 1], [1, 2, -1, 2], [2, 1, -2, 1], [3, -2, 2, 3], [3, -3, 3, 3], [4, -3, 2, 3], [4, -4, 3, 3], [4, -2, 1, 3], [4, -4, 4, 4], [4, -2, 2, 4],[ 1, -1, 2, -1, 1], [3, -3, 4, -2, 2], [3, 1, -2, -2, 0], [4, -3, 2, 1, 4], [4, -3, 1, 2, 4], [2, -2, 4, -2, 2], [2, -2, 3, 1, 4], [3, 1, -2, 1, 3], [3, -2, 1, 2, 4], [1, 3, -1, -3, 0],[ 3, 1, -2, 1, 1, 4], [4, -3, 1, 2, -4, 0], [4, -2, 2, -1, -3, 0], [3, -1, -2, 2, 2, 4], [1, -1, 4, -2, 1, 3], [3, -2, 2, -3, 4, 4], [1, 2, -1, 2, -4, 0], [1, 3, -2, 1, 1, 4], [2, -1, 3, -4, 1, 1], [3, -2, 3, -2, -2, 0]
            ],
            [
                [1, 1, 1, 3], [1, -1, 2, 2], [4, -1, 1, 4], [3, -1, 2, 4], [3, -2, 3, 4], [2, 2, -1, 3], [3, -3, 2, 2], [1, 3, -1, 3], [3, -1, 2, 4], [4, -3, 1, 2],[ 2, -1, 2, 1, 4], [4, -3, 2, 1, 4], [1, 3, -2, -2, 0], [2, 2, -3, 3, 4], [4, -3, 2, 1, 4], [2, -1, 3, -2, 2], [2, -2, 4, -2, 2], [3, 1, -2, -1, 1], [3, -1, -2, 4, 4], [1, 3, -1, -2, 1],[ 1, 3, -2, 1, 1, 4], [4, -4, 1, 2, 1, 4], [2, 2, -4, 2, 2, 4], [4, -1, -2, 2, 1, 4], [1, -1, 3, 1, -4, 0], [3, -2, 2, 1, -3, 1], [2, 1, -1, 2, -4, 0], [3, 1, -2, -1, 3, 4], [3, -2, 1, 2, -1, 3], [3, -1, 2, -2, -1, 1]
            ],
            [
                [5, 1, 6], [5, 2, 7], [5, 3, 8], [5, 4, 9], [1, 5, 6], [2, 5, 7], [3, 5, 8], [4, 5, 9], [5, -5, 5, 5], [5, -5, 3, 3], [ 8, -5, 1, 4], [6, -5, 2, 3], [8, -2, -5, 1], [8, -5, -1, 2], [9, -5, -1, 3], [4, 5, -3, 6], [7, 2, -5, 4], [7, -5, 2, 4], [7, 1, -5, 3], [5, 3, -5, 3], [ 7, -5, 2, 5, 9], [9, -5, -1, 5, 8], [3, 5, -1, -5, 2], [8, -5, 5, -5, 3], [6, 2, -5, 5, 8], [9, -4, 3, -5, 3], [5, 4, -2, -5, 2], [9, -2, -5, 5, 7], [7, -1, -5, 1, 2], [3, 5, -2, -5, 1], [ 5, 3, -5, 5, -2, 6], [6, -5, 3, 5, -2, 7], [3, 5, -3, -5, 2, 2], [2, 5, -1, -5, 1, 2], [7, -5, 2, 5, -3, 6], [8, -5, 1, 5, -2, 7], [9, -4, 2, -5, -1, 1], [9, -5, 5, -4, -5, 0], [5, 2, -5, 2, 5, 9], [9, -1, -5, 1, 5, 9], [ 9, -5, 5, 9], [3, 5, -2, 6], [5, -5, 1, 1], [8, -5, 5, 8], [2, 5, 1, 8], [6, 1, -5, 2], [4, 5, -2, 7], [3, 1, 5, 9], [5, -5, 4, 4], [3, 5, -2, 6]
            ],
            [
                [6, 1, 7], [6, 2, 8], [6, 3, 9], [1, 6, 7], [2, 6, 8], [3, 6, 9], [6, -6, 6, 6], [6, -6, 5, 5], [6, -6, 4, 4], [6, -6, 3, 3], [ 3, -3, 6, 6], [6, 1, 1, 8], [4, -1, 6, 9], [1, 6, 2, 9], [8, -6, -2, 0], [1, 1, 6, 8], [2, 6, -3, 5], [9, -6, 5, 8], [8, -5, -2, 1], [3, 6, -3, 6], [ 13, -3, 16, -6, 20], [29, -2, -16, 6, 17], [11, 26, 2, -36, 3], [64, 5, -56, 5, 18], [38, -21, -6, 16, 27], [56, 23, -4, -55, 20], [12, 26, -13, 4, 29], [36, -11, -5, 17, 37], [1, 5, -6, 8, 8], [32, 1, 56, -6, 83], [ 3, 6, -3, -5, 2, 3], [4, -2, 6, 1, -6, 3], [6, -5, 6, 2, -6, 3], [9, -3, -6, 4, 5, 9], [6, 1, -5, 2, 5, 9], [6, -5, 3, 5, -6, 3], [8, -2, -6, 3, 5, 8], [6, -5, 2, 5, 1, 9], [6, 1, -2, 4, -6, 3], [6, 2, 1, -5, -4, 0], [ 1, 6, 7], [6, 2, 8], [3, 6, 9], [6, 1, 7], [3, 5, 8], [2, 6, 8], [6, -1, 5], [6, -5, 1], [7, -6, 2, 3], [7, -6, -1, 0]
            ],
            [
                [7, -7, 7, 7], [7, -7, 1, 1], [7, -7, 2, 2], [7, -7, 3, 3], [7, -7, 4, 4], [2, 5, -7, 0], [2, 6, -7, 1], [6, -5, 7, 8], [7, -5, 6, 8], [2, -1, 7, 8], [ 2, 7, -3, 6], [4, -2, 7, 9], [6, -5, 7, 8], [9, -2, -7, 0], [7, 1, -5, 3], [7, -5, 7, 9], [7, -2, 3, 8], [7, -5, 6, 8], [1, 7, -2, 6], [5, -5, 7, 7], [ 61, 1, 17, -7, 72], [49, -2, -27, 7, 27], [11, 1, 57, -7, 62], [37, 2, -15, -2, 22], [28, -11, -2, 54, 69], [57, -5, -2, 27, 77], [17, -2, -5, 37, 47], [47, 52, -32, -2, 65], [94, 5, -57, 2, 44], [22, 7, -4, 13, 38], [ 4, -3, 7, -6, 1, 3], [8, -1, -7, 5, 2, 7], [1, 7, -3, 4, -2, 7], [2, 7, -5, -2, 5, 7], [8, -7, -1, 7, 2, 9], [7, -6, 2, 5, 1, 9], [2, 7, -3, 2, -7, 1], [7, -1, -5, 2, 1, 4], [4, 5, -2, -7, 6, 6], [2, 7, -1, -3, -5, 0], [ 7, -7, 7, 7], [7, -5, -2, 0], [7, -7, 6, 6], [7, -7, 5, 5], [7, -7, 3, 3], [7, -7, 1, 1], [9, -7, 2, 4], [7, -5, 1, 3], [8, -6, 7, 9], [3, 5, -7, 1]
            ],
            [
                [8, -8, 8, 8], [8, -8, 5, 5], [8, -8, 3, 3], [8, -8, 6, 6], [8, -8, 4, 4], [1, 8, -8, 1], [8, -8, 2, 2], [8, -6, 1, 3], [3, 5, -8, 0], [8, -5, 1, 4], [ 3, 6, -8, 1], [3, -2, 8, 9], [7, 1, -8, 0], [9, -8, 5, 6], [6, 2, -8, 0], [6, -5, 8, 9], [3, -2, 8, 9], [7, -6, 8, 9], [1, 7, -8, 0], [5, -5, 8, 8], [ 43, -23, 18, -7, 31], [88, -22, 3, -57, 12], [31, 57, -28, 8, 68], [29, -18, 51, 7, 69], [28, -21, -2, 14, 19], [58, -5, -52, 38, 39], [48, -37, 5, 22, 38], [38, -11, -5, 17, 39], [44, 5, -28, 58, 79], [22, 67, -28, 7, 68], [ 3, -3, 8, -8, 5, 5], [8, -2, -5, 8, -4, 5], [1, 7, -8, 8, -5, 3], [8, -1, -1, -5, 7, 8], [8, -1, -5, 6, -1, 7], [8, -5, 1, 5, -8, 1], [9, -8, 3, 5, -8, 1], [8, 1, -5, -4, 8, 8], [4, 5, -7, 2, 5, 9], [8, -7, 7, -8, 7, 7], [ 8, -8, 0], [8, -7, 1], [8, -6, 2], [8, -3, 5], [8, 1, 9], [9, -8, 3, 4], [1, 8, -5, 4], [8, -5, 1, 4], [9, -8, 2, 3], [8, -6, 2, 4]
            ],
            [
                [9, -9, 2, 2], [9, -9, 5, 5], [9, -9, 1, 1], [9, -9, 7, 7], [5, 4, -9, 0], [6, 3, -9, 0], [9, -3, -5, 1], [9, -5, -4, 0], [8, 1, -9, 0], [9, -6, 1, 4], [ 3, -3, 9, 9], [9, -2, -5, 2], [2, 7, -9, 0], [9, -1, -5, 3], [9, -3, -5, 1], [9, -5, -4, 0], [9, -8, 3, 4], [8, 1, -9, 0], [9, -9, 9, 9], [9, -7, 5, 7], [ 21, 8, -19, 59, 69], [89, -11, -63, 4, 19], [99, -83, 12, -8, 20], [19, -17, 1, 25, 28], [89, -54, 1, 13, 49], [21, -11, 9, -8, 11], [59, -6, 31, 5, 89], [82, 7, -39, 17, 67], [39, -25, -12, 2, 4], [63, -13, 9, -58, 1], [ 3, 6, -9, 8, 1, 9], [9, -2, -7, 9, -7, 2], [7, 2, -9, 9, -4, 5], [9, -8, 3, 5, -9, 0], [9, -9, 1, 8, -9, 0], [8, 1, -9, 2, 7, 9], [1, 8, -9, 7, 2, 9], [9, -2, 1, -8, 1, 1], [9, -1, -8, 9, -4, 5], [5, -5, 9, -8, 3, 4], [ 9, -9, 0], [9, -8, 1], [9, -9, 5, 5], [9, -9, 2, 2], [9, -8, -1, 0], [9, -5, -4, 0], [2, 7, -9, 0], [6, 3, -9, 0], [9, -2, -7, 0], [9, -9, 8, 8]
            ],
            [
                [11, 11, 11, 33], [22, 11, 11, 44], [33, 11, -10, 34], [44, -11, 10, 43], [55, 11, 11, 77], [66, 11, 11, 88], [77, 11, 11, 99], [88, 11, -11, 88], [11, 22, 11, 44], [22, 22, -11, 33], [ 55, 22, 22, 99], [66, 33, -11, 88], [77, 22, -11, 88], [11, 33, -22, 22], [55, 33, 11, 99], [66, 33, -22, 77], [55, 44, -22, 77], [44, 55, -11, 88], [33, 55, 11, 99], [11, 33, -22, 22], [ 11, 11, 11, 11, 44], [22, 11, 11, -11, 33], [55, 11, 11, 11, 88], [66, 11, 11, -22, 66], [11, 11, 22, 55, 99], [11, 11, 55, 22, 99], [11, 11, 66, 11, 99], [11, 11, 77, -22, 77], [11, 33, 55, -22, 77], [66, 11, 22, -22, 77], [ 11, 22, 11, 55, -11, 88], [11, 55, 11, 22, -11, 88], [11, 66, 11, 11, -33, 66], [55, 11, 22, 11, -11, 88], [11, 11, 77, -22, -11, 66], [55, 33, 11, -33, 11, 77], [66, 22, 11, -33, 11, 77], [11, 11, 22, 55, -44, 55], [66, 11, 11, 11, -55, 44], [77, 11, 11, -55, -11, 33], [ 11, 33, -22, 22], [22, 55, -77, 0], [66, 22, -88, 0], [33, 55, -77, 11], [11, 22, 11, 44], [55, 44, 99, '*'], [99, -66, 11, 44], [88, -77, 22, 33], [44, 55, -99, 0], [77, 11, -88, 0]
            ],
            [
                [11, 12, 10, 33], [22, 11, 11, 44], [55, 10, 23, 88], [66, 10, 22, 98], [88, 10, -23, 75], [11, 20, 53, 84], [22, 20, 55, 97], [55, 20, 23, 98], [46, -10, 50, 86], [82, 10, -40, 52], [ 66, 20, 10, 96], [77, 20, -22, 75], [11, 30, -20, 21], [66, 30, -21, 75], [55, 40, -22, '*'], [11, 50, 33, 94], [22, 50, 22, 94], [44, 50, -33, 61], [33, 60, -21, 72], [60, 20, -36, '*'], [ 12, 10, 11, 15, 48], [23, 10, 11, -22, 22], [56, 10, 22, -23, 65], [67, 10, -27, 37, 87], [89, 10, -24, 10, 85], [21, 20, 50, -11, 80], [14, 20, 10, 50, 94], [52, 20, -12, 21, 81], [52, 20, 12, -13, 71], [64, 20, 10, -32, 62], [ 63, 20, 10, -52, -20, 21], [76, 20, -55, -11, 50, 80], [13, 30, 5, 50, -43, 55], [54, 30, 10, -40, 20, 74], [52, 40, -12, 15, -55, 40], [12, 50, 30, -40, 20, 72], [32, 50, 10, -50, -20, 22], [43, 50, -21, -50, 22, 44], [22, 50, 12, -54, -20, 10], [11, 50, 22, -33, 45, 95], [ 11, 10, 20, 41], [50, 22, 10, 82], [40, 55, -10, 85], [11, 20, -30, 1], [44, 50, -23, 71], [31, 10, 50, 91], [41, -20, 55, 76], [22, 20, 55, 97], [66, 22, 10, 98], [31, 55, 10, 96]
            ],
            [
                [11, 12, 11, 34], [22, 11, 11, 44], [11, 23, 15, 49], [55, 34, -24, 65], [66, 12, 21, 99], [11, 31, 50, 92], [55, 42, -51, 46], [66, 13, -21, 58], [11, 37, 50, 98], [22, 25, 51, 98], [ 12, 12, 25, 49], [35, 13, -33, 15], [56, 23, -24, 55], [75, 14, -24, 65], [57, 41, -43, 55], [61, 15, 21, 97], [63, 31, -14, 80], [22, 61, 15, 98], [31, 63, -24, 70], [67, 22, -44, '*'], [ 11, 11, 12, 55, 89], [55, 11, 21, -22, 65], [22, 11, 15, 51, 99], [66, 11, 12, 10, 99], [55, 22, 21, -23, 75], [11, 11, 56, 11, 89], [11, 22, 61, -22, 72], [22, 55, 12, 10, 99], [11, 66, 21, -23, 75], [55, 11, 31, -47, 50], [ 21, 12, 65, -23, 10, 85], [13, 31, 50, -40, 20, 74], [51, 15, 21, 12, -40, 59], [13, 20, 15, 50, -10, 88], [61, 16, 12, 10, -45, 54], [21, 56, 11, 11, -22, 77], [61, 15, 11, 12, -33, 66], [23, 10, 15, 50, -25, 73], [71, 16, 12, -44, 23, 78], [11, 56, 21, 11, -49, 50], [ 66, 12, 10, 88], [55, 20, 21, 96], [20, 13, 50, 83], [51, -50, 15, 16], [13, 20, 15, 48], [22, 51, 10, 83], [11, 22, 55, 88], [56, 11, 11, 78], [65, 10, 12, 87], [61, 12, 16, 89]
            ],
            [
                [1, 4, 5], [2, 4, 6], [3, 4, 7], [4, 4, 8], [4, 5, 9], [1, 4, 1, 6], [3, 4, 2, 9], [2, 4, 3, 9], [1, 2, 4, 7], [8, -5, 4, 7], [ 11, 4, -5, 23, 33], [24, 14, -5, -13, 20], [23, 1, 54, -2, 76], [1, 21, 1, 4, 27], [32, -12, 4, 14, 38], [37, -5, 14, 2, 48], [21, -1, 64, 4, 88], [41, 3, 54, 1, 99], [33, -21, 4, 23, 39], [63, 4, -55, 22, 34], [ 54, 4, 1, -2, 1, 58], [6, -5, 4, 3, 1, 9], [32, 4, 3, -1, -3, 35], [5, 2, -5, 4, 3, 9], [78, -6, 4, 2, 1, 79], [4, -1, 1, -1, 4, 7], [56, -5, 5, 4, -5, '*'], [4, 4, -1, 2, -3, 6], [93, 1, 4, 1, -2, 97], [1, 33, 4, 1, -5, 34], [ 13, 4, -5, 2, 4, 18], [22, 4, -1, -5, 1, 21], [13, 4, -5, 4, 2, 18], [44, 4, 1, -3, 3, 49], [3, 1, 4, -2, 3, 9], [38, -5, 4, 1, 1, 39], [44, -3, 4, 3, -5, 43], [65, 3, -5, 4, 2, 69], [23, 1, 4, 1, -5, 24], [34, 4, -5, 4, 1, 38], [ 2, 4, 6], [1, 4, 5], [2, 2, 4, 8], [1, 1, 4, 6], [2, 1, 4, 7], [1, 1, 4, 6], [3, 4, 1, 8], [2, 2, 4, 8], [1, 4, 2, 7], [8, -5, 4, 7]
            ],
            [
                [12, -1, 4, 15], [43, 4, -5, 42], [21, 2, 4, 27], [32, 4, 1, 37], [56, -5, 4, 55], [92, 4, -55, 41], [61, 4, -5, 60], [17, -5, 4, 16], [12, 4, 51, 67], [92, 4, -50, 46], [ 68, -5, 4, 1, 68], [44, -3, 4, 3, 48], [15, 3, -5, 4, 17], [39, -5, 4, 1, 39], [86, 2, -5, 4, 87], [17, -5, 4, 2, 18], [51, -1, 4, 4, 58], [81, 3, 4, 1, 89], [52, -1, 4, 3, 58], [43, 4, -5, 2, 44], [ 94, 4, 1, -32, -51, 16], [76, -15, 4, 23, -2, 86], [82, 4, 13, -51, -2, 46], [15, 62, -25, 4, 11, 67], [38, -26, 4, 52, -3, 65], [73, 4, -65, 2, 14, 28], [62, 34, -71, -5, 14, 34], [23, 64, -75, 4, 11, 27], [14, 24, 1, -13, -5, 21], [33, 51, 4, -62, -1, 25], [ 24, 4, -5, 4, 2, 29], [16, -5, 4, 4, -2, 17], [64, 4, -1, 2, -1, 68], [3, 41, 4, 1, -2, 47], [1, 53, 4, 1, -3, 56], [91, 4, -5, 3, 4, 97], [44, 4, -5, -2, 4, 45], [18, -5, 4, 2, -2, 17], [23, 1, 4, -1, 2, 29], [12, -2, 4, 4, -3, 15], [ 1, 4, 1, 6], [3, 4, -2, 5], [2, 2, 4, 8], [3, 4, -5, 2], [1, 1, 4, 6], [4, 4, -5, 3], [2, 1, 4, 7], [3, 4, 2, 9], [8, -5, 4, 7], [4, 4, 1, 9]
            ],
            [
                [3, 3, 6], [3, 4, 7], [2, 3, 5], [3, 3, 3, 9], [3, 3, 1, 7], [3, 1, 3, 7], [1, 2, 3, 6], [2, 1, 3, 6], [2, 2, 3, 7], [1, 1, 3, 5], [ 13, 3, -5, 3, 14], [22, 3, 3, -2, 26], [33, 3, 3, -2, 37], [44, 3, 2, -3, 46], [53, 1, 3, 2, 59], [67, -5, 3, 2, 67], [71, -1, 4, 3, 77], [81, 3, 3, 1, 88], [92, -1, 3, 3, 97], [23, 3, -5, 2, 23], [ 18, -5, 33, 1, 51, 98], [84, -63, 13, 3, 12, 49], [55, 23, -15, 23, 1, 87], [19, -5, 53, 2, -63, 6], [16, 72, -65, 3, 12, 38], [21, 78, -65, 3, 52, 89], [14, 15, -25, 3, 31, 38], [3, 41, 3, 52, -71, 28], [51, 21, 1, 13, 2, 88], [22, -12, 4, 63, 2, 79], [ 14, 3, -5, 2, 3, 17], [17, -5, 3, -5, 4, 14], [34, 3, -1, 2, 1, 39], [43, 1, 3, 1, 1, 49], [21, 3, 3, 1, 1, 29], [44, 3, 1, -2, 1, 47], [26, -5, 1, 3, 1, 26], [32, 1, 3, 1, 1, 38], [55, 2, -5, 3, 1, 56], [88, -6, 3, 2, 2, 89], [ 11, 3, 3, 17], [22, 2, 3, 27], [4, 3, -5, 2], [32, 3, 3, 38], [14, 3, 1, 18], [19, -5, 3, 17], [12, 3, 1, 16], [92, 3, 2, 97], [18, -5, 3, 16], [22, 3, 1, 26]
            ],
            [
                [9, -5, 3, 7], [3, 1, 3, 7], [4, 3, -2, 5], [7, -5, 3, 5], [4, 3, 2, 9], [9, -5, 3, 7], [11, 1, 3, 15], [3, 3, 3, 9], [4, 3, 1, 8], [3, 3, 1, 7], [ 11, 8, -5, 3, 17], [24, 5, -5, 3, 27], [43, 1, 3, 2, 49], [51, 1, 1, 3, 56], [72, -2, 4, 3, 77], [57, -5, 3, 2, 57], [91, -1, 4, 3, 97], [41, 3, 3, 1, 48], [62, -1, 3, 3, 67], [43, 3, -5, 2, 43], [ 24, 53, 1, 1, -61, 18], [16, -5, 71, 3, -51, '*'], [22, 11, 53, 1, 2, 89], [15, 62, -75, 3, 32, 37], [18, -6, 23, 2, 62, 99], [14, 33, -25, 2, 63, 87], [77, -15, 3, -55, 4, 14], [34, 63, -71, 2, 11, 39], [73, 1, 13, 1, 11, 99], [1, 3, 3, 81, -63, 25], [ 13, 3, -5, 3, 3, 17], [42, 3, 3, -2, 1, 47], [53, 3, 3, -2, 2, 59], [64, 3, 2, -3, 1, 67], [83, 1, 3, 2, -5, 84], [98, -5, 3, 2, 1, 99], [24, -3, 3, 3, 2, 29], [35, 3, -5, 3, 1, 37], [49, -5, 3, 2, -1, 48], [56, 2, -5, 3, 2, 58], [ 2, 3, 5], [3, 3, 6], [4, 3, 7], [2, 1, 3, 6], [3, 3, -5, 1], [7, -5, 3, 5], [2, 1, 3, 6], [3, 1, 3, 7], [2, 2, 3, 7], [8, -5, 3, 6]
            ],
            [
                [4, 2, 6], [4, 2, 1, 7], [4, 2, 2, 8], [3, 2, 2, 7], [4, 2, 3, 9], [2, 2, 2, 6], [1, 2, 2, 5], [1, 3, 2, 6], [8, -5, 2, 5], [3, 2, 4, 9], [ 3, 6, -5, 2, 6], [12, -1, 3, 2, 16], [2, 1, 1, 2, 6], [24, -3, 3, 2, 26], [3, 11, 2, 2, 18], [1, 1, 2, 2, 6], [31, -1, 4, 2, 36], [1, 23, 2, 1, 27], [1, -1, 4, 2, 6], [43, 6, -5, 2, 46], [ 58, -5, 22, 11, 2, 88], [44, -23, 2, 52, 1, 76], [66, -15, 3, 32, 3, 89], [89, -25, -61, 32, 3, 38], [46, 52, -75, 2, 11, 36], [81, 8, -65, 2, 23, 49], [21, 11, 2, 52, 3, 89], [23, 1, 12, 2, -33, 5], [18, -5, 61, 2, 22, 98], [22, -12, 4, 72, 3, 89], [ 14, 2, -5, 2, 1, 14], [7, -5, 2, 2, 2, 8], [34, 2, -1, 2, 1, 38], [3, 2, -5, 1, 1, 2], [23, 2, 3, 1, -2, 27], [4, 2, 1, 2, -3, 6], [63, 2, 2, 2, -3, 66], [2, 1, 2, 1, 3, 9], [95, 4, -5, 2, 2, 98], [21, 1, 1, 2, 3, 28], [ 4, 2, 6], [3, 2, 5], [2, 2, 2, 6], [1, 3, 2, 6], [23, 2, 2, 27], [8, -5, 2, 5], [33, 1, 2, 36], [68, -5, 2, 65], [24, 2, 1, 27], [13, 2, 1, 16]
            ],
            [
                [2, 2, 2, 6], [2, 1, 2, 5], [3, 1, 2, 6], [12, 2, 2, 16], [19, -5, 2, 16], [23, 1, 2, 26], [13, 1, 2, 16], [12, 12, 2, 26], [33, 2, 2, 37], [14, 3, 1, 18], [ 13, 1, 2, 2, 18], [1, 3, 2, 1, 7], [5, -5, 4, 2, 6], [24, -3, 3, 2, 26], [3, 6, -5, 4, 8], [7, -5, 2, 2, 6], [31, -1, 4, 2, 36], [2, -1, 3, 2, 6], [41, -1, 4, 2, 46], [73, 6, -5, 2, 76], [ 66, 22, -75, 2, 51, 66], [71, 11, 1, 12, 4, 99], [25, 3, -15, 2, 63, 78], [39, -25, -1, 62, -5, 70], [28, -5, 62, 1, 3, 89], [41, 8, -35, 2, 72, 88], [13, 21, 2, 62, 1, 99], [44, 55, -75, 2, 21, 47], [84, -73, 22, 12, 2, 47], [32, -12, 4, 52, 1, 77], [ 18, -6, 2, 2, 1, 17], [5, 4, -5, 2, 3, 9], [62, 1, 2, 1, 1, 67], [3, 2, -5, 4, 2, 6], [4, -1, 2, 1, 1, 7], [23, 2, 3, 1, -2, 27], [3, 2, 2, 2, -4, 5], [34, 2, -1, 2, 2, 39], [47, -5, 2, 2, 2, 48], [54, 2, -5, 2, 2, 55], [ 13, 1, 2, 16], [2, 2, 2, 6], [12, 2, 2, 16], [14, 2, -5, 11], [12, 3, 1, 16], [34, -1, 2, 35], [78, -5, 2, 75], [23, 2, 1, 26], [49, -5, 4, 48], [34, 3, 2, 39]
            ],
            [
                [4, 1, 4, 9], [2, 2, 1, 5], [3, 2, 1, 6], [10, 4, 1, 15], [22, 4, 1, 27], [2, 2, 1, 5], [3, 1, 1, 5], [9, -5, 1, 5], [14, -10, 1, 5], [4, 1, 2, 7], [ 14, -3, 3, 1, 15], [4, -1, 1, 1, 5], [6, 3, -5, 1, 5], [24, 1, -5, 4, 24], [3, 6, -5, 1, 5], [2, 2, 1, 3, 8], [31, 8, -5, 1, 35], [2, 2, 1, 3, 8], [1, -1, 4, 1, 5], [42, 6, -5, 1, 44], [ 57, 22, -65, 1, 32, 47], [51, 23, 1, 11, 3, 89], [86, -75, 3, 21, 4, 39], [39, -25, 1, 62, 2, 79], [28, -15, 1, 71, 3, 88], [61, -51, 4, 21, 3, 38], [82, -61, 3, 11, 54, 89], [93, -73, 14, 1, 2, 37], [84, -73, 3, 1, 11, 26], [72, -52, 4, 61, 4, 89], [ 88, -6, 2, 1, 3, 88], [5, 4, -5, 1, 3, 8], [3, 1, 1, 2, 2, 9], [4, 5, -5, 1, 3, 8], [91, 3, 1, 2, 2, 99], [4, 5, -5, 1, 3, 8], [4, 1, 2, 2, -2, 7], [4, -2, 2, 1, 3, 8], [17, -5, 2, 1, 3, 18], [4, 1, -5, 2, 2, 4], [ 14, 1, 4, 19], [18, -6, 3, 15], [4, 1, 1, 6], [2, 2, 1, 5], [3, 1, 1, 5], [12, 2, 1, 15], [21, 3, 1, 25], [24, 1, 3, 28], [19, -5, 1, 15], [3, 1, 3, 7]
            ],
            [
                [14, 1, 1, 16], [9, -5, 1, 5], [2, 2, 1, 5], [3, 1, 1, 5], [71, 3, 1, 75], [22, 2, 1, 25], [13, 1, 1, 15], [61, 3, 1, 65], [84, 1, 3, 88], [44, 1, 2, 47], [ 44, 1, -5, 4, 44], [5, 4, -5, 1, 5], [2, 22, 1, 3, 28], [4, -3, 3, 1, 5], [3, 6, -5, 1, 5], [7, -5, 22, 1, 25], [3, -3, 14, 1, 15], [2, -1, 3, 1, 5], [41, -1, 4, 1, 45], [22, 6, -5, 2, 25], [ 17, 72, -65, 1, 12, 37], [38, -16, 2, 51, 3, 78], [26, 63, -75, 1, 22, 37], [99, -75, 1, 22, 2, 49], [28, -5, 11, 51, 4, 89], [31, 8, -25, 61, 3, 78], [23, 21, 1, 52, 2, 99], [14, 75, -85, 1, 23, 28], [24, -13, 3, 71, -55, 30], [42, -32, 4, 71, 3, 88], [ 11, 1, 2, 1, 3, 18], [31, 3, 1, 1, 2, 38], [16, -5, 3, 1, 4, 19], [44, 5, -5, 1, 3, 48], [61, 3, 1, 2, 2, 69], [31, -1, 4, 1, 3, 38], [84, 1, 2, 2, -5, 84], [94, -2, 2, 1, 2, 97], [27, -5, 2, 1, 3, 28], [34, 1, -5, 2, 3, 35], [ 4, 1, 5], [2, 2, 1, 5], [3, 1, 1, 5], [11, 3, 1, 15], [12, 2, 1, 15], [9, -5, 1, 5], [91, 3, 1, 95], [71, 3, 1, 75], [84, 1, 3, 88], [44, 1, 2, 47]
            ],
            [
                [5, -4, 1], [6, -4, 2], [7, -4, 3], [8, -4, 4], [9, -4, 5], [9, -4, -4, 1], [8, -4, -4, 0], [7, -4, -2, 1], [6, -4, -1, 1], [5, -4, -1, 0], [34, -3, 4, -4, 31], [ 5, -4, 2, 1, 4], [5, 3, -1, -4, 3], [46, 1, -4, 4, 47], [3, 6, -2, 4, 3, 6, -2, 4, '*'], [32, 2, 1, -4, 31], [1, 8, -4, -4, 1], [5, -4, 1, 12, 14], [25, -4, 4, 1, 26], [2, 6, -3, -4, 1], [87, -62, -4, 51, 4, 76], [ 11, 63, 1, -24, 3, 54], [96, -21, -64, 1, 16, 28], [33, 4, -24, 73, 2, 88], [38, -11, -14, 31, 2, 46], [25, -14, 4, 61, -54, 22], [92, -71, 4, -14, 3, 14], [33, -22, 65, -54, 3, 25], [14, 83, -94, -1, 23, 25], [12, -1, 14, -24, 43, 44], [8, -6, 4, -4, 2, 4], [ 26, -4, -1, 1, 4, 26], [3, 4, -4, -1, 4, 6], [39, -4, -4, 2, 2, 35], [8, -4, -3, 1, 3, 5], [21, 4, -4, 5, -4, 22], [22, 3, -4, -1, 5, 25], [4, 2, -4, -2, 4, 4], [93, 2, 2, -4, 3, 96], [1, 4, 2, -4, 4, 7], [5, -4, 1],[ 6, -4, 2], [7, -4, 3], [8, -4, -4, 0], [9, -4, -4, 1], [2, 3, -4, 1], [5, -4, 1, 2], [3, 3, -4, 2], [35, -4, 2, 33], [7, -4, 1, 4]
            ],
            [
                [25, -4, 4, 25], [98, -4, -1, 93], [35, -4, 1, 32], [8, -2, -4, 2], [17, -4, 2, 15], [3, 5, -4, 4], [7, 2, -4, 5], [34, 1, -4, 31], [67, -4, 2, 65], [36, -4, 1, 33], [ 25, 3, -1, -4, 23], [46, 1, -4, 4, 47], [63, 6, -2, -4, 63], [72, 2, 1, -4, 71], [48, -6, 4, -4, 42], [66, -4, -1, 1, 62], [74, -3, 4, -4, 71], [93, 4, -4, -1, 92], [39, -4, -4, 2, 33], [48, -4, -3, 1, 42], [ 35, -14, 61, 2, 12, 96], [25, -4, 24, 1, 52, 98], [62, 6, -53, -4, 74, 85], [95, -84, 2, 21, 2, 36], [77, -12, -54, 1, 13, 25], [71, 4, -54, 5, -24, 2], [52, 43, -64, -1, 5, 35], [24, 2, -14, -2, 63, 73], [43, 52, 2, -74, 5, 28], [11, 74, 2, -64, 3, 26], [ 31, 3, 1, -4, 2, 33], [79, -5, 1, -4, 4, 75], [36, -5, 4, -4, 5, 36], [27, -5, 3, -4, 3, 24], [78, -5, 2, -4, 2, 73], [27, -1, -4, -2, 5, 25], [63, 1, 1, -4, 6, 67], [84, 1, 1, -4, 4, 86], [91, 2, 2, -4, 5, 96], [31, 1, 3, -4, 6, 37], [ 18, -4, -1, 13], [7, -4, 2, 5], [11, 5, -4, 12], [62, 4, -4, 62], [6, -4, 2, 4], [8, -4, -4, 0], [87, -4, 2, 85], [18, -4, 3, 17], [83, -4, 1, 80], [37, -4, 2, 35]
            ],
            [
                [5, -3, 2], [6, -3, 3], [7, -3, 4], [8, -3, -3, 2], [9, -3, -3, 3], [1, 4, -3, 2], [3, 2, -3, 2], [5, -3, 2, 4], [7, -2, -3, 2], [6, -3, 1, 4], [ 14, -3, 4, -3, 12], [25, -3, 1, 1, 24], [36, 3, -4, -3, 32], [44, 1, -3, 4, 46], [63, 6, -4, -3, 62], [82, 2, 1, -3, 82], [31, 8, -4, -3, 32], [95, -3, 1, 2, 95], [25, -3, 4, 1, 27], [82, 6, -3, -3, 82], [ 57, -2, -3, 21, 12, 85], [11, 23, 1, -13, 62, 84], [66, -51, -3, 21, 3, 36], [23, 63, -73, 3, 13, 29], [78, -51, -3, 11, -2, 33], [35, -23, 4, 61, -3, 74], [82, -61, 4, -13, 4, 16], [43, -22, 5, -3, 52, 75], [94, 3, -23, -61, 3, 16], [12, -1, 74, -13, 4, 76], [ 58, -6, 4, -3, 2, 55], [26, -3, -1, 1, 3, 26], [83, 4, -3, -1, 5, 88], [25, -3, 2, 2, -3, 23], [98, -1, -3, 1, -3, 92], [31, 4, -3, 5, -3, 34], [72, 3, 3, -1, 3, '*'], [24, 2, -3, -2, 4, 25], [93, 2, 2, -3, 2, 96], [31, 4, 2, -3, 2, 36], [ 5, -3, 2], [6, -3, 3], [7, -3, 4], [8, -3, -3, 2], [1, 4, -3, 2], [2, 3, -3, 2], [5, -3, 2, 4], [7, -3, -3, 1], [2, 4, -3, 3], [4, 5, -3, 6]
            ],
            [
                [2, 3, -3, 2], [4, 1, -3, 2], [6, -3, -3, 0], [5, -3, 1, 3], [2, 4, -3, 3], [7, -2, -3, 2], [5, -3, -2, 0], [1, 5, -3, 3], [7, -3, 1, 5], [3, 4, -3, 4] ,[ 12, -1, 4, -3, 12], [93, -2, 5, -3, 93], [84, 3, -3, -1, 83], [22, -1, 4, -3, 22], [74, 3, -3, 3, 77], [48, -1, -3, 1, 45], [65, -3, 4, 1, 67], [11, 12, 1, -3, 21], [98, -6, 4, -3, 93], [66, -8, -1, 1, '*'], [ 52, 12, 11, -63, 2, 14], [11, 78, -4, -63, 1, 23], [95, -83, 1, 12, -2, '*'], [45, -23, 4, 11, 2, 39], [82, 6, -33, -53, 3, 5], [26, 63, -4, -73, 4, 16], [34, 61, -83, 4, -5, 11], [63, 6, -14, -3, 22, 74], [51, 33, 1, -73, 4, 16], [26, -11, -3, 71, 3, 86], [ 11, 3, 1, -3, 3, 15], [89, -5, 1, -3, 4, 86], [36, -5, 4, -3, 4, 36], [97, -5, 3, -3, 4, 96], [58, -5, 2, -3, 4, 56], [83, 1, 1, -3, 3, 85], [24, 1, 1, -3, 3, 26], [31, 2, 2, -3, 4, 36], [61, 1, 3, -3, 4, 66], [57, -1, -3, 1, 4, 58], [ 17, -3, -1, 13], [25, -3, -2, 20], [45, -3, 5, 47], [84, 2, -3, 83], [53, 2, -3, 52], [7, -3, -3, 1], [11, 4, -3, 12], [22, 4, -3, 23], [2, 15, -3, 14], [44, 1, -3, 42]
            ],
            [
                [15, -2, 13], [26, -2, 24], [5, -2, -2, 1], [76, -2, -3, 71], [66, -2, -3, 61], [35, -2, 1, 34], [7, -2, -2, 3], [3, 2, -2, 3], [9, -4, -2, 3], [85, 2, -2, 85], [ 14, -3, 4, -2, 13], [45, -2, 1, 1, 45], [76, 3, -4, -2, 73], [4, 1, -2, 4, 7], [93, 6, -4, -2, 93], [42, 2, 1, -2, 43], [3, 8, -4, -2, '*'], [15, -2, 1, 2, 16], [35, -2, 4, 1, 38], [32, 6, -3, -2, 33], [ 17, -2, -12, 61, 2, 66], [51, 43, 1, -82, 1, 14], [96, -61, -12, 1, 23, 47], [53, 33, -62, 3, -2, 25], [35, -2, 53, 1, 12, 99], [65, -52, 4, 21, -6, 32], [52, -1, 24, -62, 3, 16], [73, -12, 4, -52, 3, 16], [94, 3, -73, -2, 15, 37], [82, -71, 34, -12, 3, 36], [ 38, -6, 3, -2, 3, 36], [66, -2, 1, 1, 1, 67], [63, 1, 1, -2, 3, 66], [95, -2, 2, 2, 2, 99], [66, -2, 4, 1, -3, 66], [72, 4, -2, 5, 1, '*'], [83, 3, -2, -1, 3, 86], [74, 1, -2, -2, 4, 75], [43, 2, -2, 3, 2, 48], [62, 4, -2, -4, 3, 63], [ 5, -2, 3], [6, -2, 4], [7, -2, 5], [8, -2, -2, 4], [9, -2, -2, 5], [4, 5, -2, 7], [1, 4, -2, 3], [2, 3, -2, 3], [16, -2, 4, 18], [6, -1, -2, 3]
            ],
            [
                [12, 2, -2, 12], [21, 4, -2, 23], [45, -2, 1, 44], [75, -2, 4, 77], [42, 4, -2, 44], [85, -2, 4, 87], [65, -2, 4, 67], [33, 2, -2, 33], [64, 2, -2, 64], [25, -1, 2, 26], [ 18, -6, 3, -2, 13], [26, -2, -1, 1, 24], [3, 31, 1, -2, 33], [35, -2, 2, 2, 37], [6, -2, 4, 1, 9], [44, -3, 4, -2, 43], [5, -2, 1, 1, 5], [16, 3, -4, -2, 13], [44, 1, -2, 4, 47], [43, 6, -4, -2, 43], [ 32, 54, -62, 15, -2, 37], [53, 23, -72, -1, 23, 26], [84, 1, -72, 2, 24, 39], [33, 12, -42, 3, 81, 87], [52, 34, -2, -74, 5, 15], [52, 2, 21, -12, 3, 66], [3, 61, 1, -52, 33, 46], [84, 1, 11, -72, 3, 27], [21, 52, 2, -62, 2, 15], [31, 61, 3, -82, 23, 36], [31, 3, 1, -2, 3, 36], [69, -5, 1, -2, 3, 66], [76, -5, 4, -2, 3, 76], [47, -5, 3, -2, 3, 46], [88, -5, 2, -2, 4, 87], [67, -2, -2, 1, 4, 68], [41, 3, 1, -2, 4, 47], [96, -1, -2, 1, 3, 97], [43, 3, -2, 3, 1, 48], [25, 2, 3, 1, -6, '*'], [2, 3, -2, 3], [5, -2, 1, 4], [7, -2, -2, 3], [1, 4, -2, 3], [3, 3, -2, 4], [11, 4, -2, 13], [15, -2, 1, 14], [31, 4, -2, 33], [5, -2, -1, 2], [6, -2, -3, 1]
            ],
            [
                [5, -1, 4], [6, -1, -1, 4], [2, 3, -1, 4], [3, 2, -1, 4], [5, -1, 2, 6], [1, 4, -1, 4], [4, 1, -1, 4], [5, -1, 1, 5], [5, -1, 3, 7], [2, 3, -1, 4], [14, -3, 4, -1, 14], [35, -1, 1, 1, 36], [6, 3, -4, -1, 4], [54, 1, -1, 4, 58], [3, 6, -4, -1, 4], [82, 2, 1, -1, 84], [1, 8, -4, -1, 4], [95, -1, 1, 2, 97], [25, -1, 4, 1, 29], [42, 6, -3, -1, 44], [27, -12, -1, 71, -1, 84], [41, 53, 1, -81, 2, 16], [66, -51, -1, 21, -1, 34], [33, 62, -71, 3, -12, 15], [15, -11, 3, 71, -62, 16], [75, 11, 4, 1, -63, '*'], [92, -61, 14, -21, 5, 29], [83, -52, 4, -21, 2, '*'], [24, -13, 64, -1, 11, 85], [12, -1, 24, -31, 83, 87], [8, -6, 3, -1, 2, 6], [6, -1, -1, 1, 2, 7], [3, 1, 1, -1, 3, 7], [5, -1, 2, 2, 1, 9], [5, -1, 4, 1, -3, 6], [1, 4, -1, 5, -7, 2], [2, 3, -1, -1, 3, 6], [4, 1, -1, -2, 4, 6], [3, 2, -1, 3, -6, 1], [1, 4, -1, -4, 5, 5], [5, -1, -1, 3], [5, -1, -2, 2], [12, 3, -1, 14], [13, 2, -1, 14], [7, -2, -1, 4], [5, -1, 2, 6], [9, -4, -1, 4], [8, -3, -1, 4], [11, 4, -1, 14], [2, 3, -1, 4]
            ],
            [
                [15, -1, 4, 18], [33, 2, -1, 34], [75, -1, 2, 76], [22, 3, -1, 24], [44, 1, -1, 44], [28, -3, -1, 24], [2, 3, -1, 4], [7, -2, -1, 4], [15, -1, -3, 11], [9, -4, -1, 4], [81, 3, 1, -1, 84], [39, -5, 1, -1, 34], [6, -5, 14, -1, 14], [7, -5, 23, -1, 24], [18, -5, 2, 1, 16], [41, 4, -1, 5, 49], [62, 3, -1, -1, 63], [34, 1, -1, -2, 32], [73, 2, -1, 3, 77], [31, 4, -4, -1, 30], [87, -52, -1, 1, -11, 24], [31, 3, 11, -31, 2, 16], [26, -1, -11, 1, 24, 39], [83, 13, -61, 13, -6, 42], [85, -81, 23, 1, -17, 11], [44, -23, 54, -1, 12, 86], [25, -1, 11, 1, 52, 88], [36, 3, -14, -21, 2, 6], [34, 1, -21, 64, -6, 72], [23, 6, -14, -14, 74, 75], [28, -6, 3, -1, 1, 25], [46, -1, -1, 1, -2, 43], [73, 1, 1, -1, 3, 77], [25, -1, 2, 2, -5, 23], [95, -1, 4, 1, -5, 94], [22, 2, 1, -1, -3, 21], [13, 1, 1, -1, 1, 15], [84, 1, 1, -1, 1, 86], [71, 2, 2, -1, 1, 75], [31, 1, 3, -1, 1, 35], [22, 3, -1, 24], [33, 2, -1, 34], [5, -1, 2, 6], [7, -2, -1, 4], [4, 11, -1, 14], [8, -3, -1, 4], [22, 3, -1, 24], [6, -1, -1, 4], [2, 3, -1, 4], [4, 1, -1, 4]
            ]
    ];

            let level_2 = [
        [
            [9, 1, 10], [2, 7, 1, 10], [9, 1, 2, 12], [8, 1, 1, 10], [5, 4, 1, 10], [9, 1, 4, 14], [6, 3, 1, 10], [9, 1, 5, 15], [3, 6, 4, 13], [9, 1, 6, 16],
            [11, 3, 5, 1, 20], [32, 2, 5, 1, 40], [21, 5, 3, 1, 30], [17, 1, 1, 1, 20], [86, 2, 1, 1, 90], [53, 5, 1, 1, 60], [65, 3, 1, 1, 70], [15, 2, 2, 1, 20], [16, 3, 1, 1, 21], [28, 1, 1, 4, 34],
            [21, 7, 1, 1, 2, 32], [32, 7, 1, 1, 5, 46], [13, 6, 1, 2, 2, 24], [44, 5, 1, 3, -2, 51], [35, 4, 1, 4, -2, 42], [56, 3, 1, 5, 3, 68], [77, 2, 1, 5, 4, 89], [88, 1, 1, 8, -6, 92], [69, 1, 6, 2, -5, 73], [59, 1, 4, -2, 7, 69],
            [8, 1, 1, 3, 1, -2, 12], [9, 1, 5, -5, 6, -1, 15], [9, 1, 4, -3, 2, 5, 18], [1, 6, 2, 1, 8, -6, 12], [1, 5, 3, 1, 9, -3, 16], [2, 2, 5, 1, 7, -5, 12], [2, 7, 1, 3, -2, 3, 14], [3, 6, 1, 5, 3, -8, 10], [4, 5, 1, 2, -1, 8, 19], [2, -1, 8, 1, 4, 5, 19]
        ],
        [
            [11, 8, 1, 20], [18, 1, 1, 20], [29, 1, 3, 33], [53, 6, 1, 60], [55, 4, 1, 60], [29, 1, 7, 37], [59, 1, 6, 66], [37, 2, 1, 40], [59, 1, 3, 63], [86, 3, 1, 90],
            [42, 2, 5, 1, 50], [72, 5, 2, 1, 80], [83, 5, 1, 1, 90], [21, 7, 1, 1, 30], [19, 1, 1, 4, 25], [34, 4, 1, 1, 40], [13, 5, 1, 1, 20], [55, 2, 2, 1, 60], [56, 2, 1, 1, 60], [21, 8, 1, 1, 31],
            [81, 7, 1, 1, 3, 93], [72, 7, 1, 1, 5, 86], [53, 6, 1, 11, 2, 73], [14, 5, 1, 23, 6, 49], [35, 4, 1, 2, 7, 49], [26, 3, 1, 3, -2, 31], [12, 7, 1, 5, 3, 28], [8, 1, 1, 15, 3, 28], [9, 1, 3, -2, 17, 28], [29, 1, 4, -1, -12, 21],
            [1, 8, 1, 6, 6, -5, 17], [9, 1, 4, 7, 7, -2, 26], [9, 1, 9, 2, 2, -6, 17], [1, 6, 2, 8, 8, -3, 22], [5, 1, 3, 4, 4, 3, 20], [5, 2, 2, 3, 3, 2, 17], [1, 7, 2, 5, 5, -7, 13], [3, 6, 1, -3, -3, 1, 5], [39, 5, 3, 11, 11, 2, 71], [8, -1, 2, 4, 4, 1, 18],
        ],
    ];

    let notebook_nums = [level_1, level_2];

    window.onload = () => {
        page_amount = notebook_nums[$('#select_level').val()].length;
        string_amount = notebook_nums[$('#select_level').val()][$('#select_level').val()].length/10;

        create_sky();
        create_earth();

        make_settings_page();
        make_settings_string();
        reset_settings();
        draw_earth_beans();
    };

    // Создать небесные бусинки
    const create_sky = () => {
        for (let i = 0; i < 6; i++) {
            $('#soroban-5').append(`
                <div class="column">
                    <div id="${i}5" class="box sky"></div>
                </div>
            `);
            if (i >= 3) $(`#${i}5`).parent().addClass('flexible');
        }
    };

    // Создать земный бусинки
    const create_earth = () => {
        for (let i = 0; i < 6; i++) {
            $('#soroban').append(`<div id="column-${i}" class="column"></div>`);
            for (let j = 3; j >= 0; j--) {
                $(`#column-${i}`).append(`<div id="${i}${j}" class="box"></div>`);
            }
            if (i >= 3) $(`#column-${i}`).addClass('flexible');
        }
    };

    // Создание примеров
    const reset_settings = () => {
        index = 0;
        right_counter = 0;
        current_counter = 0;

        let temp = [];
        arr_nums = [];

        if ($('#select_level').val() < 2) {
            $('#bomb').css('display', 'block');
            page_amount = notebook_nums[$('#select_level').val()].length;
            string_amount = notebook_nums[$('#select_level').val()][$('#select_page').val() - 1].length/10;

            temp = notebook_nums[$('#select_level').val()][$('#select_page').val() - 1];

            mental_card(0);
        }
        if ($('#select_level').val() == 2) {
            $('#bomb').css('display', 'none');
            temp = make_hard_level(2);
            // console.log(temp);
            mental_card(1);
        }

        if ($('#select_level').val() == 3) {
            $('#bomb').css('display', 'none');
            temp = make_hard_level(3);
            // console.log(temp);
            mental_card(1);
        }

        if ($('#select_level').val() == 4) {
            $('#bomb').css('display', 'none');
            let n_1 = 1;
            let n_2 = 1;

            if ($('#select_page').val() <= 2) { n_1 = 1; n_2 = 1; }
            else if ($('#select_page').val() <= 8) { n_1 = 2; n_2 = 1; }
            else if ($('#select_page').val() <= 14) { n_1 = 3; n_2 = 1; }
            else if ($('#select_page').val() <= 20) { n_1 = 4; n_2 = 1; }
            else if ($('#select_page').val() <= 26) { n_1 = 5; n_2 = 1; }
            else if ($('#select_page').val() <= 32) { n_1 = 2; n_2 = 2; }
            else if ($('#select_page').val() <= 38) { n_1 = 3; n_2 = 2; }
            else if ($('#select_page').val() <= 44) { n_1 = 4; n_2 = 2; }
            else if ($('#select_page').val() <= 50) { n_1 = 3; n_2 = 3; }

            temp = make_multi_level(n_1, n_2);
            mental_card(1);
        }

        for (let i = $('#select_string').val()*10 - 10; i < $('#select_string').val()*10; i++) {
            arr_nums.push(temp[i])
        }

        $('#completed').text(`${right_counter}`);
    };

    // Генерирование настроек
    const make_settings_page = () => {
        $('#select_page').html('');

        for (let i = 1; i <= page_amount; i++) {
            $('#select_page').append(`<option value="${i}">${i}</option>`);
        }
    };

    const make_settings_string = () => {
        $('#select_string').html('');
        for (let i = 1; i <= string_amount; i++) {
            $('#select_string').append(`<option value="${i}">${i}</option>`);
        }
    };

    // ментальная карта
    const mental_card = (n) => {
        if (string_amount === parseInt($('#select_string').val()) || string_amount - n === parseInt($('#select_string').val())) {
            $('#menar').css('display', 'block');
            $('.switch-wrap').css('display', 'none');
            if (toggle_soroban === true) $('#switcher').trigger('click');
        }
        else {
            $('#menar').css('display', 'none');
            $('.switch-wrap').css('display', 'inline-block');
        }
    };

    // Генерирование примеров
    $('#select_level').change(() => {
        $('#select_page').val(1);
        $('#select_string').val(1);

        reset_settings();
        make_settings_page();
        make_settings_string();

    });

    $('#select_page').change(() => {
        reset_settings();
        make_settings_string();
    });

    $('#select_string').change(() => {
        reset_settings();
    });

    $('#bomb').click(() => {
        if (arr_nums[index - 1][arr_nums[index - 1].length - 1].toString() === '*') {
            $('#input-answer').val('');
            $('#numbers').css('color', 'var(--green)');
            right_counter++;

            $('#answer').prop('disabled', true);
            $('#input-answer').prop('disabled', true);
            $('#bomb').prop('disabled', true);
        }
        else {
            $('#numbers').css('color', 'var(--red)');
        }

        $('#completed').text(`${right_counter}`);


    });



    start = () => {
        reset_soroban();




        $('#answer').prop('disabled', false);
        $('#input-answer').prop('disabled', false);
        $('#bomb').prop('disabled', false);

        $('#input-answer').focus();

        $('#numbers').css('color', 'black');
        $('#input-answer').val('');

      //  console.log(arr_nums);
        if (index >= arr_nums.length) {
            $('#numbers').text(`Правильно: ${right_counter} из ${arr_nums.length}`);
            /* Для статистики
            let result = '';
            result = `${parseInt($('#select_level').val()) + 1}${$('#select_page').val()}${$('#select_string').val()}`;
            if (right_counter < 10) result += `: ${right_counter}`;
            console.log(result);
             */
        }
        else $('#numbers').html('');

        for (let i = 0; i < arr_nums[index].length - 1; i++) {
            $('#numbers').append(`<div class="number"> ${arr_nums[index][i]} </div>`);
        }

        index++;
        current_counter++;
        $('#current').text(`${current_counter} из ${arr_nums.length}`);
    };

    answer = () => {
        if ($('#input-answer').val() === arr_nums[index - 1][arr_nums[index - 1].length - 1].toString() || toggle_soroban === true &&  sum === arr_nums[index - 1][arr_nums[index - 1].length - 1]) {
            $('#input-answer').val('');
            $('#numbers').css('color', 'var(--green)');
            right_counter++;

            $('#answer').prop('disabled', true);
            $('#input-answer').prop('disabled', true);
        }
        else {
            $('#numbers').css('color', 'var(--red)');
        }

        $('#completed').text(`${right_counter}`);
    };


    // Примеры 3 и 4 ступени
    const make_hard_level = (digits) => {
        page_amount = 40;
        string_amount = 6;

        let sum = 0; // сумма
        let number = 0; // число
        let noRulesNumbers = []; // массив чисел для примера
        // let digits = 0; // количество цифр в числе

        let arr = [];
        let arr_page = [];
        let answer = 0;

        let n = 0;

        const noRulesMore = () => {
            // digits = 2;

            noRulesNumbers = [];

            for (let i = -sum; i < 10**digits - 1 - sum; i++) {
                if (i !== 0) noRulesNumbers.push(i);
            }

            noRulesNumbers = noRulesNumbers.filter(item => Math.abs(item) > 10**(digits-1));

            number = noRulesNumbers[Math.ceil(Math.random()*noRulesNumbers.length - 1)];

            sum += number;
            arr.push(number);
        };
        // 3 4 5 6

        //страница
        for (let k = 0; k < string_amount; k++) {
            // строчка
            for (let j = 0; j < 10; j++) {
                // пример
                if (k < 4) n = k + 2;
                else n = 2;

                for (let i = 0; i <= n; i++) {
                    noRulesMore();
                    answer += arr[i];
                }
                arr.push(answer);
                answer = 0;
                sum = 0;
                arr_page.push(arr);
                arr = [];
            }
        }

        return arr_page;
    };

    // Умножение
    const make_multi_level = (digits_1, digits_2) => {
        page_amount = 50;
        string_amount = 8;

        let result = 0; // результат
        let number_1 = 0;
        let number_2 = 0;

        let arr = [];
        let arr_page = [];

        // Получить минимум и максимум числа
        const get_number = (limit, pow) => {
            let sum = 0;
            let n = 0;

            for (let i = 0; i < pow; i++) {
                n = limit*10**i;
                sum += n;
            }
            return sum;
        };

        // Случайное число (x, y)
        const randomInteger = (min, max) => {
            // случайное число от min до (max+1)
            let rand = min + Math.random() * (max + 1 - min);
            return Math.floor(rand);
        };

        // Сделать пример
        const make_example = () => {
            number_1 = randomInteger(get_number(1, digits_1), get_number(9, digits_1));
            number_2 = randomInteger(get_number(1, digits_2), get_number(9, digits_2));

            if (number_1 === 1) number_1++;
            if (number_2 === 1) number_2++;

            result = number_1 * number_2;

            arr.push(number_1);
            arr.push(number_2);
            arr.push(result);
        };

        //страница
        for (let k = 0; k < string_amount; k++) {
            // строчка
            for (let j = 0; j < 10; j++) {
                // пример
                make_example();
                arr_page.push(arr);
                arr = [];
            }
        }

        return arr_page;
    };

    $('#switcher').click(() => {
        toggle_soroban = toggle_soroban !== true;
        if (toggle_soroban === true) {
            $('#soroban-trainer').css('display', 'block');
            $('#input-answer').css('display', 'none');
        }
        else {
            $('#soroban-trainer').css('display', 'none');
            $('#input-answer').css('display', 'block');
        }
    });

    $('#start').click(() => start());
    $('#answer').click(() => answer());
    $('#input-answer').keypress(() => { if (event.keyCode === 13) answer()});

    /* СОРОБАН */

    let toggle_bead = [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]];
    let toggle_bead_5 = [[false], [false], [false], [false], [false], [false]];
    let sum = 0;
    let bottom = 20;

    // Движение бусинок
    const move_bead = (x, y) => {
        let temp_bottom = 0;
        if (toggle_bead[x][y] === true) {
            temp_bottom = parseInt($(`#${x}${y}`).css('bottom')) + 35;
            sum += 10 ** parseInt(`${x}`);
        }
        if (toggle_bead[x][y] === false) {
            temp_bottom = parseInt($(`#${x}${y}`).css('bottom')) - 35;
            sum -= 10 ** parseInt(`${x}`);
        }
        $(`#${x}${y}`).css('bottom', temp_bottom);
    };

    // Рисует земные бусинки
    const draw_earth_beans = () => {
        for (let i = 3; i >= 0; i--) {
            for (let j = 0; j < 6; j++) {
                $(`#${j}${i}`).css('bottom', bottom).css('background-image', 'url("img/bead_inactive.png")');
            }
            bottom += 40;
        }
    };

    // Ставит бусинки в начало
    const reset_soroban = () => {
        toggle_bead = [[false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false], [false, false, false, false]];
        toggle_bead_5 = [[false], [false], [false], [false], [false], [false]];
        sum = 0;
        bottom = 20;

        draw_earth_beans();

        for (let i = 0; i < 6; i++) {
            $(`#${i}${5}`).css('top', 20).css('background-image', 'url("img/bead_inactive.png")');
        }
    };

    // Движение земных бусинок по клику
    $('#soroban').click((event) => {
        let x = 0;
        let y = 0;

        x = $(`#${event.target.id}`).prop('id')[0];
        y = $(`#${event.target.id}`).prop('id')[1];

        if (toggle_bead[x][y] === false) {
            for (let i = y; i >= 0; i--) {
                toggle_bead[x][i] = true;
                if ((parseInt($(`#${x}${i}`).css('bottom')) % 10 === 0)) {
                    $(`#${x}${i}`).css('background-image', 'url("img/bead_active.png")');
                    move_bead(x, i);
                }
            }
        }

        else if (toggle_bead[x][y] === true) {
            for (let i = y; i < 4; i++) {
                toggle_bead[x][i] = false;
                if (!(parseInt($(`#${x}${i}`).css('bottom')) % 10 === 0)) {
                    $(`#${x}${i}`).css('background-image', 'url("img/bead_inactive.png")');
                    move_bead(x, i);
                }
            }
        }
    });

    $('#soroban-5').click((event) => {
        let x = 0;
        let y = 0;
        let temp_bottom = 0;

        x = $(`#${event.target.id}`).prop('id')[0];
        y = $(`#${event.target.id}`).prop('id')[1];

        toggle_bead_5[x][y] = toggle_bead_5[x][y] !== true;

        if (toggle_bead_5[x][y] === true) {
            $(`#${x}${y}`).css('background-image', 'url("img/bead_active.png")');
            temp_bottom = parseInt($(`#${x}${y}`).css('top')) + 35;
            sum += 10 ** parseInt(`${x}`)*5;
        }

        if (toggle_bead_5[x][y] === false) {
            $(`#${x}${y}`).css('background-image', 'url("img/bead_inactive.png")');
            temp_bottom = parseInt($(`#${x}${y}`).css('top')) - 35;
            sum -= 10 ** parseInt(`${x}`)*5;
        }

        $(`#${x}${y}`).css('top', temp_bottom);
    });
</script>
</html>